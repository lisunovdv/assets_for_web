<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <h1>https://raw.githubusercontent.com/andrewplummer/Sugar/2.0.0/dist/sugar.min.js<h1>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="sugar.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">

  var acfCalendarData = [
    {
      "animal": "Hog",
      "color": "#5a662a",
      "params": [
          {
            "tooltip": {
              "season":"Hog hunting archery season",
              "events": [
                  {"icon":"\e801","title":"DMU A3 – Aug. 1-16","content":"Antlered deer entire season by bow only."},
                  {"icon":"","title":"01 AUG - 30 OCT","content":"Antlered deer entire season by bow only."},
              ]
            },
            "start" : "1970-00-01",
            "end": "1970-04-30"
          },
          {
            "tooltip": {},
            "start" : "1970-06-01",
            "end": "1970-07-30"
          },
          {
            "tooltip": {},
            "start" : "1970-10-01",
            "end": "1970-11-30"
          }                  
      ]
    },

{
      "animal": "Alligator",
      "color": "#a7c140",
      "params": [
          {
            "tooltip": {
              "season":"Hog hunting archery season",
              "events": [
                  {"icon":"\e801","title":"DMU A3 – Aug. 1-16","content":"Antlered deer entire season by bow only."},
                  {"icon":"","title":"01 AUG - 30 OCT","content":"Antlered deer entire season by bow only."},
              ]
            },
            "start" : "1970-00-01",
            "end": "1970-04-30"
          },
          {
            "tooltip": {},
            "start" : "1970-06-01",
            "end": "1970-07-30"
          },
          {
            "tooltip": {},
            "start" : "1970-10-01",
            "end": "1970-11-30"
          }                  
      ]
    }    
  ]

   var options = {
      timeline: { colorByRowLabel: true },
      backgroundColor: '#fff',
      colors: [/*'#5a662a', '#a7c140', '#a59f5e', '#5ea597', '#82be9a'*/],
      tooltip: {isHtml: true}
    };
    function makeToolTipHTML(tooltipData) {
      
      var eventStr = _.template([
          '<%_.forEach(eventObject, function (e) {%>',
              '<h3><%=e.title%></h3>',
              '<div><%=e.content%></div>',
          '<%})%>'
      ].join(''));

      var compiled = _.template([
        '<div class="chart-tooltip">',
            eventStr({ eventObject: tooltipData["events"]}),
        '<div>'
      ].join(''));

      return compiled(tooltipData);
    }

    function thisDateFormat (dateStr) {
      return Sugar.Date.format( Sugar.Date.create(dateStr), '{dd} {Mon}');
    }
    function generateBarTitle(startDateStr, endDateStr) {
      return  Sugar.Date.format( startDateStr, '{dd} {Mon}') + " - " + Sugar.Date.format( endDateStr, '{dd} {Mon}');
    }

    var dataModel = (function generateData(data) {
        if (!_.isArray(data) ) {
          console.log('`Data` is not valid array. Dump: '+data);
          return;
        }

        var result = [];
        _.each(data, function(element){

          options["colors"].push(element["color"]);

            _.each(element["params"], function(param){
                var startDate = Sugar.Date.create(param["start"]);
                var endDate = Sugar.Date.create(param["end"]);
                result.push([
                  element['animal'],
                  generateBarTitle(startDate,endDate),
                  makeToolTipHTML(param["tooltip"]),
                  startDate,
                  endDate
                ]);
            });
        });
        return result;
    })(acfCalendarData);  



  google.charts.load("current", {packages:["timeline","bar"]});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {

    var container = document.getElementById('example5.1');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();
    dataTable.addColumn({ type: 'string', id: 'Animal' });
    dataTable.addColumn({ type: 'string', id: 'Season' });
    dataTable.addColumn({type: 'string', 'role': 'tooltip', 'p': {'html': true}});
    dataTable.addColumn({ type: 'date', id: 'Start' });
    dataTable.addColumn({ type: 'date', id: 'End' });
    /*dataTable.addRows([
      [ 'Hog', new Date(0,3,1,0,0,0) + '-' + new Date(0,4,30,0,0,0),     makeToolTipHTML(),  new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0) ],
      [ 'Hog', 'Intermediate JavaScript', makeToolTipHTML(),    new Date(0,8,1,0,0,0),  new Date(0,9,30,0,0,0)  ],
      [ 'Hog', 'Advanced JavaScript',   makeToolTipHTML(),      new Date(0,10,20,0,0,0),  new Date(0,11,30,0,0,0)  ],

      [ 'Alligator',   'Beginning Google Charts',  makeToolTipHTML(),   new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Alligator',   'Intermediate Google Charts', makeToolTipHTML(), new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Alligator',   'Advanced Google Charts',  makeToolTipHTML(),    new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],

      [ 'Bird and waterfowl',   'Beginning Google Charts', makeToolTipHTML(),    new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Bird and waterfowl',   'Intermediate Google Charts', makeToolTipHTML(), new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],

      [ 'Turkey',   'Beginning Google Charts', makeToolTipHTML(),    new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Turkey',   'Intermediate Google Charts', makeToolTipHTML(), new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Turkey',   'Advanced Google Charts',     makeToolTipHTML(), new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],

      [ 'Whitetail deer',   'Beginning Google Charts',   makeToolTipHTML(),  new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Whitetail deer',   'Intermediate Google Charts',makeToolTipHTML(),  new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ],
      [ 'Whitetail deer',   'Advanced Google Charts',    makeToolTipHTML(),  new Date(0,3,1,0,0,0),  new Date(0,4,30,0,0,0)  ]

      ]);*/

    dataTable.addRows(dataModel);




 

    chart.draw(dataTable, options);
  }

</script>

<div id="example5.1" style="height: 500px;width: 100%;"></div>

</body>
</html>
